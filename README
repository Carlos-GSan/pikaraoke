## PiKaraoke

Karaoke song search and queueing system that uses Youtube videos as a source.

Supports

* Web interface for multiple users

* Searching song library via autocomplete

* Adding new tracks from Youtube

* Offline storage of video files

* Pause/Skip/Restart and volume control

* Now playing and up next display

* Queue editing

## Setup

Make sure you you have omxplayer (should be installed by default in Raspbian), but in case it's not:

`sudo apt-get install omxplayer`

Install youtube-dl:

`sudo pip install --upgrade youtube_dl`

(Do NOT use apt-get to install youtube-dl, it is an outdated version and puts it in a different directory than expected)

Install these other dependencies:

`sudo pip install cherrypy`

`sudo pip install futures`

`sudo pip install qrcode[pil]`

`sudo pip install psutil`

Bump up your GPU memory or some videos will show a GSOD (green screen of death). I had to do this on Pi Zero, not sure about Pi3:

`nano /boot/config.txt`

Add the following line:

`gpu_mem=128`

## Launch

cd to the pikaraoke directory and run:

`sudo python app.py`

Yes, you must run as sudo since pikaraoke uses pygame to control the screen.

Defaults to port 5000 and downloads songs to /usr/lib/pikaraoke/songs

To change that, you can supply command line arguments (example):

`python app.py --port 8080 --download-path /home/pi/songs`

## Usage

The screen should show the IP of the Pi along with a QR code. You can enter this IP or scan the QR code on your smartphone/computer to open it in a browser. From there you should see the PiKaraoke interface.

Home (Microphone Icon)

- View Now Playing and Next tracks

- Access controls to repeat, pause, skip and control volume

Queue

- Edit the queue/playlist order

- Add random songs to the queue

- Clear the queue

Songs

- Put songs in the queue by searching current library on local storage (likely empty at first), search is executed autocomplete-style 

- Add new songs from the internet by using the second search box

- Click browse to view the full library. From here you can edit files in the library (rename/delete).

Info

- Shows the IP and QR code to share with others

- Shows CPU / Memory / Disk Use stats

- Allows user to shut down or reboot system